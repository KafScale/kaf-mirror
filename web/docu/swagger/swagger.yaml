basePath: /api/v1
definitions:
  config.AIConfig:
    properties:
      endpoint:
        type: string
      features:
        $ref: '#/definitions/config.AIFeatures'
      model:
        type: string
      provider:
        type: string
      selfHealing:
        $ref: '#/definitions/config.SelfHealing'
      token:
        type: string
    type: object
  config.AIFeatures:
    properties:
      anomalyDetection:
        type: boolean
      incidentAnalysis:
        type: boolean
      performanceOptimization:
        type: boolean
    type: object
  config.ClusterConfig:
    properties:
      brokers:
        type: string
      clusterID:
        type: string
      provider:
        type: string
      security:
        $ref: '#/definitions/config.SecurityConfig'
    type: object
  config.Config:
    properties:
      ai:
        $ref: '#/definitions/config.AIConfig'
      clusters:
        additionalProperties:
          $ref: '#/definitions/config.ClusterConfig'
        type: object
      database:
        $ref: '#/definitions/config.DatabaseConfig'
      logging:
        $ref: '#/definitions/config.LoggingConfig'
      monitoring:
        $ref: '#/definitions/config.MonitoringConfig'
      replication:
        $ref: '#/definitions/config.ReplicationConfig'
      server:
        $ref: '#/definitions/config.ServerConfig'
      topics:
        items:
          $ref: '#/definitions/config.TopicMapping'
        type: array
    type: object
  config.DatabaseConfig:
    properties:
      path:
        type: string
    type: object
  config.LoggingConfig:
    properties:
      console:
        type: boolean
      file:
        type: string
      level:
        type: string
      maxAge:
        type: integer
      maxBackups:
        type: integer
      maxSize:
        type: integer
    type: object
  config.LokiConfig:
    properties:
      endpoint:
        type: string
    type: object
  config.MonitoringConfig:
    properties:
      enabled:
        type: boolean
      loki:
        $ref: '#/definitions/config.LokiConfig'
      platform:
        description: '"splunk", "loki", "prometheus"'
        type: string
      prometheus:
        $ref: '#/definitions/config.PrometheusConfig'
      splunk:
        $ref: '#/definitions/config.SplunkConfig'
    type: object
  config.PrometheusConfig:
    properties:
      pushGateway:
        type: string
    type: object
  config.ReplicationConfig:
    properties:
      batchSize:
        type: integer
      compression:
        type: string
      jobID:
        type: string
      parallelism:
        type: integer
    type: object
  config.SecurityConfig:
    properties:
      apikey:
        type: string
      apisecret:
        type: string
      connectionString:
        type: string
      enabled:
        type: boolean
      kerberos:
        properties:
          serviceName:
            type: string
        type: object
      password:
        type: string
      protocol:
        type: string
      saslmechanism:
        type: string
      username:
        type: string
    type: object
  config.SelfHealing:
    properties:
      automatedRemediation:
        type: boolean
      dynamicThrottling:
        type: boolean
    type: object
  config.ServerConfig:
    properties:
      adminEmail:
        type: string
      cors:
        properties:
          allowedOrigins:
            items:
              type: string
            type: array
        type: object
      host:
        type: string
      mode:
        type: string
      port:
        type: integer
      tls:
        properties:
          certFile:
            type: string
          enabled:
            type: boolean
          keyFile:
            type: string
        type: object
      webPath:
        type: string
    type: object
  config.SplunkConfig:
    properties:
      hecendpoint:
        type: string
      hectoken:
        type: string
      index:
        type: string
    type: object
  config.TopicMapping:
    properties:
      enabled:
        type: boolean
      source:
        type: string
      target:
        type: string
    type: object
  database.AIInsight:
    properties:
      accuracy_score:
        type: number
      ai_model:
        type: string
      id:
        type: integer
      insight_type:
        type: string
      job_id:
        type: string
      recommendation:
        type: string
      resolution_status:
        type: string
      resolved_at:
        type: string
      response_time_ms:
        type: integer
      severity_level:
        type: string
      timestamp:
        type: string
      user_feedback:
        type: string
    type: object
  database.AIMetrics:
    properties:
      accuracy_rate:
        type: number
      anomaly_count:
        type: integer
      avg_response_time_ms:
        type: number
      recommendation_count:
        type: integer
      total_insights:
        type: integer
    type: object
  database.ClusterInventory:
    properties:
      broker_count:
        type: integer
      brokers:
        type: string
      cluster_id:
        type: string
      cluster_name:
        type: string
      cluster_type:
        type: string
      controller_id:
        type: integer
      id:
        type: integer
      provider:
        type: string
      snapshot_id:
        type: integer
      total_topics:
        type: integer
    type: object
  database.ComplianceReport:
    properties:
      end_date:
        type: string
      generated_at:
        type: string
      generated_by:
        type: integer
      id:
        type: integer
      period:
        type: string
      report_data:
        additionalProperties: true
        type: object
      reportDataDB:
        type: string
      start_date:
        type: string
    type: object
  database.ConnectionInventory:
    properties:
      api_key_prefix:
        type: string
      brokers:
        type: string
      connection_successful:
        type: boolean
      connection_time_ms:
        type: integer
      connection_type:
        type: string
      error_message:
        type: string
      id:
        type: integer
      provider:
        type: string
      sasl_mechanism:
        type: string
      security_protocol:
        type: string
      snapshot_id:
        type: integer
    type: object
  database.ConsumerGroupInventory:
    properties:
      group_id:
        type: string
      group_state:
        type: string
      id:
        type: integer
      member_count:
        type: integer
      protocol:
        type: string
      protocol_type:
        type: string
      snapshot_id:
        type: integer
    type: object
  database.ConsumerGroupOffset:
    properties:
      consumer_group_inventory_id:
        type: integer
      current_offset:
        type: integer
      high_water_mark:
        type: integer
      id:
        type: integer
      lag:
        type: integer
      partition_id:
        type: integer
      topic_name:
        type: string
    type: object
  database.InventoryData:
    properties:
      connections:
        items:
          $ref: '#/definitions/database.ConnectionInventory'
        type: array
      consumer_groups:
        items:
          $ref: '#/definitions/database.ConsumerGroupInventory'
        type: array
      consumer_offsets:
        items:
          $ref: '#/definitions/database.ConsumerGroupOffset'
        type: array
      snapshot:
        $ref: '#/definitions/database.JobInventorySnapshot'
      source_cluster:
        $ref: '#/definitions/database.ClusterInventory'
      source_partitions:
        items:
          $ref: '#/definitions/database.PartitionInventory'
        type: array
      source_topics:
        items:
          $ref: '#/definitions/database.TopicInventory'
        type: array
      target_cluster:
        $ref: '#/definitions/database.ClusterInventory'
      target_partitions:
        items:
          $ref: '#/definitions/database.PartitionInventory'
        type: array
      target_topics:
        items:
          $ref: '#/definitions/database.TopicInventory'
        type: array
    type: object
  database.JobInventorySnapshot:
    properties:
      created_at:
        type: string
      id:
        type: integer
      job_id:
        type: string
      snapshot_type:
        type: string
    type: object
  database.KafkaCluster:
    properties:
      api_key:
        type: string
      api_secret:
        type: string
      brokers:
        type: string
      cluster_id:
        type: string
      connection_string:
        type: string
      name:
        type: string
      provider:
        type: string
      security_config:
        type: string
      status:
        type: string
      updated_at:
        type: string
    type: object
  database.MigrationCheckpoint:
    properties:
      checkpoint_type:
        type: string
      created_at:
        type: string
      created_by:
        type: string
      id:
        type: integer
      job_id:
        type: string
      migration_reason:
        type: string
      source_consumer_group_offsets:
        type: string
      target_high_water_marks:
        type: string
      validation_results:
        type: string
    type: object
  database.MirrorGap:
    properties:
      detected_at:
        type: string
      gap_end_offset:
        type: integer
      gap_size:
        type: integer
      gap_start_offset:
        type: integer
      gap_type:
        type: string
      id:
        type: integer
      job_id:
        type: string
      partition_id:
        type: integer
      resolution_method:
        type: string
      resolution_status:
        type: string
      resolved_at:
        type: string
      source_topic:
        type: string
      target_topic:
        type: string
    type: object
  database.MirrorProgress:
    properties:
      id:
        type: integer
      job_id:
        type: string
      last_replicated_offset:
        type: integer
      last_updated:
        type: string
      partition_id:
        type: integer
      replication_lag:
        type: integer
      source_high_water_mark:
        type: integer
      source_offset:
        type: integer
      source_topic:
        type: string
      status:
        type: string
      target_high_water_mark:
        type: integer
      target_offset:
        type: integer
      target_topic:
        type: string
    type: object
  database.MirrorStateAnalysis:
    properties:
      analysis_results:
        type: string
      analysis_type:
        type: string
      analyzed_at:
        type: string
      analyzer_version:
        type: string
      critical_issues_count:
        type: integer
      id:
        type: integer
      job_id:
        type: string
      recommendations:
        type: string
      source_cluster_state:
        type: string
      target_cluster_state:
        type: string
      warning_issues_count:
        type: integer
    type: object
  database.MirrorStateData:
    properties:
      job_id:
        type: string
      last_checkpoint:
        $ref: '#/definitions/database.MigrationCheckpoint'
      mirror_gaps:
        items:
          $ref: '#/definitions/database.MirrorGap'
        type: array
      mirror_progress:
        items:
          $ref: '#/definitions/database.MirrorProgress'
        type: array
      resume_points:
        items:
          $ref: '#/definitions/database.ResumePoint'
        type: array
      state_analysis:
        items:
          $ref: '#/definitions/database.MirrorStateAnalysis'
        type: array
    type: object
  database.OperationalEvent:
    properties:
      details:
        type: string
      event_type:
        type: string
      id:
        type: integer
      initiator:
        type: string
      timestamp:
        type: string
    type: object
  database.PartitionInventory:
    properties:
      high_water_mark:
        type: integer
      id:
        type: integer
      isr_ids:
        type: string
      leader_id:
        type: integer
      partition_id:
        type: integer
      replica_ids:
        type: string
      topic_inventory_id:
        type: integer
    type: object
  database.ReplicationJob:
    properties:
      batch_size:
        type: integer
      compression:
        type: string
      created_at:
        type: string
      failed_reason:
        type: string
      id:
        type: string
      name:
        type: string
      parallelism:
        type: integer
      preserve_partitions:
        type: boolean
      source_cluster_name:
        type: string
      status:
        type: string
      target_cluster_name:
        type: string
      updated_at:
        type: string
    type: object
  database.ReplicationMetric:
    properties:
      bytes_transferred:
        type: integer
      current_lag:
        type: integer
      error_count:
        type: integer
      id:
        type: integer
      job_id:
        type: string
      messages_replicated:
        type: integer
      timestamp:
        type: string
    type: object
  database.ResumePoint:
    properties:
      calculated_at:
        type: string
      gap_detected:
        type: boolean
      gap_end_offset:
        type: integer
      gap_start_offset:
        type: integer
      id:
        type: integer
      job_id:
        type: string
      migration_checkpoint_id:
        type: integer
      partition_id:
        type: integer
      safe_resume_offset:
        type: integer
      source_topic:
        type: string
      target_topic:
        type: string
      validation_status:
        type: string
    type: object
  database.TopicInventory:
    properties:
      cluster_inventory_id:
        type: integer
      compression_type:
        type: string
      config_data:
        type: string
      id:
        type: integer
      is_internal:
        type: boolean
      partition_count:
        type: integer
      replication_factor:
        type: integer
      topic_name:
        type: string
    type: object
  database.TopicMapping:
    properties:
      enabled:
        type: boolean
      id:
        type: integer
      job_id:
        type: string
      source_topic_pattern:
        type: string
      target_topic_pattern:
        type: string
    type: object
  database.User:
    properties:
      created_at:
        type: string
      id:
        type: integer
      is_initial:
        type: boolean
      username:
        type: string
    type: object
  kafka.TopicDetails:
    properties:
      compression_type:
        type: string
      name:
        type: string
      partitions:
        type: integer
      replication_factor:
        type: integer
    type: object
  kafka.TopicHealth:
    properties:
      is_healthy:
        type: boolean
      name:
        type: string
      partitions:
        type: integer
      replication_factor:
        type: integer
      under_replicated_partitions:
        type: integer
    type: object
  server.CreateJobRequest:
    properties:
      batch_size:
        type: integer
      compression:
        type: string
      name:
        type: string
      parallelism:
        type: integer
      preserve_partitions:
        type: boolean
      source_cluster_name:
        type: string
      target_cluster_name:
        type: string
      topic_mappings:
        items:
          $ref: '#/definitions/database.TopicMapping'
        type: array
    type: object
  server.changePasswordRequest:
    properties:
      new_password:
        type: string
      old_password:
        type: string
    type: object
  server.createUserRequest:
    properties:
      password:
        type: string
      role:
        type: string
      username:
        type: string
    type: object
  server.tokenRequest:
    properties:
      password:
        type: string
      username:
        type: string
    type: object
  server.updateUserRoleRequest:
    properties:
      role:
        type: string
    type: object
host: localhost:8080
info:
  contact: {}
  description: This is the API for kaf-mirror, a high-performance Kafka replication
    tool.
  title: kaf-mirror API
  version: "1.0"
paths:
  /ai/anomalies:
    get:
      description: Get a list of all AI-detected anomalies.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.AIInsight'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get anomalies
      tags:
      - ai
  /ai/explain/{event}:
    post:
      description: Get an AI-powered explanation for an event.
      parameters:
      - description: Event
        in: path
        name: event
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Explain an event
      tags:
      - ai
  /ai/incidents/{event_id}/analyze:
    post:
      description: Trigger an AI-powered analysis of an operational incident.
      parameters:
      - description: Event ID
        in: path
        name: event_id
        required: true
        type: integer
      responses:
        "202":
          description: Accepted
      security:
      - ApiKeyAuth: []
      summary: Analyze an incident
      tags:
      - ai
  /ai/insights:
    get:
      description: Get a list of all AI-generated insights.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.AIInsight'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get AI insights
      tags:
      - ai
  /ai/metrics:
    get:
      description: Get aggregated AI performance metrics including response time and
        accuracy.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.AIMetrics'
      security:
      - ApiKeyAuth: []
      summary: Get AI performance metrics
      tags:
      - ai
  /ai/recommendations:
    get:
      description: Get a list of all AI-generated recommendations.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.AIInsight'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get recommendations
      tags:
      - ai
  /ai/test:
    post:
      description: Test the AI integration with sample data
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Test AI integration
      tags:
      - ai
  /auth/me:
    get:
      description: Get the current user's profile.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get the current user's profile
      tags:
      - auth
  /auth/token:
    post:
      consumes:
      - application/json
      description: Generate a new API token for the authenticated user.
      parameters:
      - description: User credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/server.tokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Generate a new API token
      tags:
      - auth
  /clusters:
    get:
      description: Get a list of all configured Kafka clusters.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.KafkaCluster'
            type: array
      security:
      - ApiKeyAuth: []
      summary: List all Kafka clusters
      tags:
      - clusters
    post:
      consumes:
      - application/json
      description: Create a new Kafka cluster configuration.
      parameters:
      - description: Kafka Cluster
        in: body
        name: cluster
        required: true
        schema:
          $ref: '#/definitions/database.KafkaCluster'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/database.KafkaCluster'
      security:
      - ApiKeyAuth: []
      summary: Create a new Kafka cluster
      tags:
      - clusters
  /clusters/{name}:
    delete:
      description: Mark a Kafka cluster as inactive. It will be archived after 72
        hours and then can be purged.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      responses:
        "202":
          description: Accepted
      security:
      - ApiKeyAuth: []
      summary: Mark a Kafka cluster for deletion
      tags:
      - clusters
    get:
      description: Get a single Kafka cluster by its name.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.KafkaCluster'
      security:
      - ApiKeyAuth: []
      summary: Get a Kafka cluster by name
      tags:
      - clusters
    put:
      consumes:
      - application/json
      description: Update an existing Kafka cluster.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      - description: Kafka Cluster
        in: body
        name: cluster
        required: true
        schema:
          $ref: '#/definitions/database.KafkaCluster'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.KafkaCluster'
      security:
      - ApiKeyAuth: []
      summary: Update a Kafka cluster
      tags:
      - clusters
  /clusters/{name}/restore:
    post:
      description: Restore an inactive Kafka cluster to active status.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Restore an inactive Kafka cluster
      tags:
      - clusters
  /clusters/{name}/status:
    get:
      description: Get the status of a Kafka cluster by performing a live connection
        test.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get the status of a Kafka cluster
      tags:
      - clusters
  /clusters/{name}/topic-details:
    get:
      description: Get detailed information for a list of topics in a specific Kafka
        cluster.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      - description: Comma-separated list of topic names
        in: query
        name: topics
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/kafka.TopicDetails'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get detailed topic information for a cluster
      tags:
      - clusters
  /clusters/{name}/topics:
    get:
      description: Get a list of all topics for a specific Kafka cluster.
      parameters:
      - description: Cluster Name
        in: path
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
      security:
      - ApiKeyAuth: []
      summary: List topics for a cluster
      tags:
      - clusters
  /clusters/purge:
    delete:
      description: Permanently delete all archived Kafka clusters.
      responses:
        "204":
          description: No Content
      security:
      - ApiKeyAuth: []
      summary: Purge archived Kafka clusters
      tags:
      - clusters
  /clusters/test:
    post:
      consumes:
      - application/json
      description: Test the connection to a Kafka cluster.
      parameters:
      - description: Kafka Cluster
        in: body
        name: cluster
        required: true
        schema:
          $ref: '#/definitions/config.ClusterConfig'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Test a Kafka cluster connection
      tags:
      - clusters
  /compliance/report/{id}:
    get:
      description: Get a specific compliance report by its ID.
      parameters:
      - description: Report ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.ComplianceReport'
      security:
      - ApiKeyAuth: []
      summary: Get a compliance report by ID
      tags:
      - compliance
  /compliance/report/{period}:
    post:
      description: Generate a new compliance report for the specified period.
      parameters:
      - description: Report period (daily, weekly, monthly)
        in: path
        name: period
        required: true
        type: string
      responses:
        "200":
          description: PDF report
          schema:
            type: string
      security:
      - ApiKeyAuth: []
      summary: Generate a compliance report
      tags:
      - compliance
  /compliance/reports:
    get:
      description: Get a list of generated compliance reports.
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ComplianceReport'
            type: array
      security:
      - ApiKeyAuth: []
      summary: List compliance reports
      tags:
      - compliance
  /config:
    get:
      description: Get the current configuration of the kaf-mirror.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/config.Config'
      security:
      - ApiKeyAuth: []
      summary: Get the current configuration
      tags:
      - config
    put:
      consumes:
      - application/json
      description: Update the configuration of the kaf-mirror.
      parameters:
      - description: New configuration
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/config.Config'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Update the configuration
      tags:
      - config
  /config/export:
    post:
      description: Export the configuration to a YAML file.
      produces:
      - application/x-yaml
      responses:
        "200":
          description: YAML configuration
          schema:
            type: string
      security:
      - ApiKeyAuth: []
      summary: Export the configuration
      tags:
      - config
  /config/import:
    post:
      consumes:
      - application/json
      description: Import a configuration from a YAML file.
      parameters:
      - description: New configuration
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/config.Config'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Import a configuration
      tags:
      - config
  /events:
    get:
      description: Get a list of all operational events.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.OperationalEvent'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get operational events
      tags:
      - events
  /health:
    get:
      consumes:
      - '*/*'
      description: get the status of server.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Show the status of server.
      tags:
      - root
  /inventory/snapshots/{snapshot_id}:
    get:
      description: Get comprehensive inventory data for a specific snapshot.
      parameters:
      - description: Snapshot ID
        in: path
        name: snapshot_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.InventoryData'
      security:
      - ApiKeyAuth: []
      summary: Get detailed inventory data for a snapshot
      tags:
      - inventory
  /inventory/snapshots/{snapshot_id}/cluster:
    get:
      description: Get detailed cluster inventory information from a specific snapshot.
      parameters:
      - description: Snapshot ID
        in: path
        name: snapshot_id
        required: true
        type: integer
      - description: Cluster type (source or target)
        in: query
        name: cluster_type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.ClusterInventory'
      security:
      - ApiKeyAuth: []
      summary: Get cluster inventory from a snapshot
      tags:
      - inventory
  /inventory/snapshots/{snapshot_id}/connections:
    get:
      description: Get detailed connection inventory information from a specific snapshot.
      parameters:
      - description: Snapshot ID
        in: path
        name: snapshot_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ConnectionInventory'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get connection inventory from a snapshot
      tags:
      - inventory
  /inventory/snapshots/{snapshot_id}/consumer-groups:
    get:
      description: Get detailed consumer group inventory information from a specific
        snapshot.
      parameters:
      - description: Snapshot ID
        in: path
        name: snapshot_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ConsumerGroupInventory'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get consumer group inventory from a snapshot
      tags:
      - inventory
  /inventory/snapshots/{snapshot_id}/topics:
    get:
      description: Get detailed topic inventory information from a specific snapshot.
      parameters:
      - description: Snapshot ID
        in: path
        name: snapshot_id
        required: true
        type: integer
      - description: Cluster type (source or target)
        in: query
        name: cluster_type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.TopicInventory'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get topic inventory from a snapshot
      tags:
      - inventory
  /jobs:
    get:
      description: Get a list of all replication jobs.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ReplicationJob'
            type: array
      security:
      - ApiKeyAuth: []
      summary: List all replication jobs
      tags:
      - jobs
    post:
      consumes:
      - application/json
      description: Create a new replication job.
      parameters:
      - description: Replication Job
        in: body
        name: job
        required: true
        schema:
          $ref: '#/definitions/server.CreateJobRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/database.ReplicationJob'
      security:
      - ApiKeyAuth: []
      summary: Create a new replication job
      tags:
      - jobs
  /jobs/{id}:
    delete:
      description: Delete a replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
      security:
      - ApiKeyAuth: []
      summary: Delete a replication job
      tags:
      - jobs
    get:
      description: Get a single replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.ReplicationJob'
      security:
      - ApiKeyAuth: []
      summary: Get a replication job by ID
      tags:
      - jobs
    put:
      consumes:
      - application/json
      description: Update an existing replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - description: Replication Job
        in: body
        name: job
        required: true
        schema:
          $ref: '#/definitions/server.CreateJobRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.ReplicationJob'
      security:
      - ApiKeyAuth: []
      summary: Update a replication job
      tags:
      - jobs
  /jobs/{id}/ai/analyze:
    post:
      description: Trigger an AI-powered performance analysis for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "202":
          description: Accepted
      security:
      - ApiKeyAuth: []
      summary: Trigger AI analysis for a job
      tags:
      - jobs
  /jobs/{id}/ai/historical-analysis:
    post:
      description: Trigger a long-term historical AI analysis for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - default: 7d
        description: Analysis period in days (e.g., 7d, 30d)
        in: query
        name: period
        type: string
      responses:
        "202":
          description: Accepted
      security:
      - ApiKeyAuth: []
      summary: Trigger historical AI analysis for a job
      tags:
      - jobs
  /jobs/{id}/ai/insights:
    get:
      description: Get a list of all AI-generated insights for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.AIInsight'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get AI insights for a job
      tags:
      - jobs
  /jobs/{id}/force-restart:
    post:
      description: Forcefully restart a replication job, with pre-flight checks.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Force-restart a replication job
      tags:
      - jobs
  /jobs/{id}/inventory/snapshots:
    get:
      description: Get a list of all inventory snapshots for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.JobInventorySnapshot'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get inventory snapshots for a job
      tags:
      - inventory
    post:
      description: Create a manual inventory snapshot for a running job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create a manual inventory snapshot
      tags:
      - inventory
  /jobs/{id}/lag:
    get:
      description: Get the current consumer lag for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get consumer lag for a job
      tags:
      - jobs
  /jobs/{id}/mappings:
    get:
      description: Get a list of all topic mappings for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.TopicMapping'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get topic mappings for a job
      tags:
      - jobs
    put:
      consumes:
      - application/json
      description: Update the topic mappings for a replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - description: Topic Mappings
        in: body
        name: mappings
        required: true
        schema:
          items:
            $ref: '#/definitions/database.TopicMapping'
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Update topic mappings for a job
      tags:
      - jobs
  /jobs/{id}/metrics/current:
    get:
      description: Get the latest replication metrics for a job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.ReplicationMetric'
      security:
      - ApiKeyAuth: []
      summary: Get current metrics for a job
      tags:
      - jobs
  /jobs/{id}/metrics/history:
    get:
      description: Get historical replication metrics for a job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - default: 2h
        description: Time range (e.g., 2h, 24h, 7d, 30d)
        in: query
        name: range
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ReplicationMetric'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get historical metrics for a job
      tags:
      - jobs
  /jobs/{id}/mirror/checkpoint:
    post:
      consumes:
      - application/json
      description: Create a checkpoint before server migration to capture current
        state.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - description: Migration reason and metadata
        in: body
        name: request
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create migration checkpoint for a job
      tags:
      - mirror-state
  /jobs/{id}/mirror/gaps:
    get:
      consumes:
      - application/json
      description: Retrieve all detected replication gaps for a specific job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.MirrorGap'
            type: array
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get detected mirror gaps for a job
      tags:
      - mirror-state
  /jobs/{id}/mirror/progress:
    get:
      consumes:
      - application/json
      description: Retrieve replication progress for all partitions of a specific
        job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.MirrorProgress'
            type: array
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get mirror progress for a job
      tags:
      - mirror-state
  /jobs/{id}/mirror/resume-points:
    get:
      consumes:
      - application/json
      description: Calculate and retrieve safe resume points for migration scenarios.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/database.ResumePoint'
            type: array
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get safe resume points for a job
      tags:
      - mirror-state
    post:
      consumes:
      - application/json
      description: Perform cross-cluster analysis and calculate safe resume points
        for migration.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Calculate safe resume points for a job
      tags:
      - mirror-state
  /jobs/{id}/mirror/state:
    get:
      consumes:
      - application/json
      description: 'Retrieve mirror state data. Without period parameter: returns
        only the latest state. With period parameter: returns historical data for
        the specified time range. Data is automatically purged after 7 days. For real-time
        analysis, use the validate-mirror endpoint instead.'
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      - description: Calendar-based time period for historical data
        enum:
        - today
        - yesterday
        - this-week
        - last-week
        in: query
        name: period
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.MirrorStateData'
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get mirror state snapshots for a job
      tags:
      - mirror-state
  /jobs/{id}/mirror/validate-mirror:
    post:
      consumes:
      - application/json
      description: Perform comprehensive validation to ensure safe migration without
        message duplication.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Validate migration safety for a job
      tags:
      - mirror-state
  /jobs/{id}/pause:
    post:
      description: Pause a replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Pause a replication job
      tags:
      - jobs
  /jobs/{id}/restart:
    post:
      description: |-
        Restart a replication job by its ID.
        Restart a replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Restart a replication job
      tags:
      - jobs
  /jobs/{id}/start:
    post:
      description: Start a replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Start a replication job
      tags:
      - jobs
  /jobs/{id}/stop:
    post:
      description: Stop a replication job by its ID.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Stop a replication job
      tags:
      - jobs
  /jobs/{id}/topic-health:
    get:
      description: Get the health of all topics for a specific replication job.
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/kafka.TopicHealth'
            type: array
      security:
      - ApiKeyAuth: []
      summary: Get topic health for a job
      tags:
      - jobs
  /jobs/restart-all:
    post:
      description: Restart all replication jobs (handles stale active jobs).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Restart all replication jobs
      tags:
      - jobs
  /jobs/start-all:
    post:
      description: Start all replication jobs.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Start all replication jobs
      tags:
      - jobs
  /jobs/stop-all:
    post:
      description: Stop all replication jobs.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Stop all replication jobs
      tags:
      - jobs
  /topics/source:
    get:
      description: Get a list of all topics from the source cluster.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
      security:
      - ApiKeyAuth: []
      summary: List topics from the source cluster
      tags:
      - topics
  /topics/target:
    get:
      description: Get a list of all topics from the target cluster.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
      security:
      - ApiKeyAuth: []
      summary: List topics from the target cluster
      tags:
      - topics
  /users:
    get:
      description: Get a list of all users.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              additionalProperties: true
              type: object
            type: array
      security:
      - ApiKeyAuth: []
      summary: List all users
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Create a new user.
      parameters:
      - description: User
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/server.createUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/database.User'
      security:
      - ApiKeyAuth: []
      summary: Create a new user
      tags:
      - users
  /users/{username}:
    delete:
      description: Delete a user.
      parameters:
      - description: Username
        in: path
        name: username
        required: true
        type: string
      responses:
        "204":
          description: No Content
      security:
      - ApiKeyAuth: []
      summary: Delete a user
      tags:
      - users
  /users/{username}/reset-password:
    post:
      description: Reset another user's password and generate a new random password
      parameters:
      - description: Username
        in: path
        name: username
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Reset a user's password (admin only)
      tags:
      - users
  /users/{username}/role:
    put:
      consumes:
      - application/json
      description: Update a user's role.
      parameters:
      - description: Username
        in: path
        name: username
        required: true
        type: string
      - description: Role
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/server.updateUserRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/database.User'
      security:
      - ApiKeyAuth: []
      summary: Update a user's role
      tags:
      - users
  /users/change-password:
    put:
      consumes:
      - application/json
      description: Change the current user's password.
      parameters:
      - description: Old and new passwords
        in: body
        name: passwords
        required: true
        schema:
          $ref: '#/definitions/server.changePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - ApiKeyAuth: []
      summary: Change the current user's password
      tags:
      - users
  /version:
    get:
      description: Get the current version of the kaf-mirror application.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Get the application version
      tags:
      - root
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
